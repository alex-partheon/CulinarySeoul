# 테스트 계정 관리

## 슈퍼 관리자 계정

### 김광일 (대표이사)
- **이메일**: alex@culinaryseoul.com
- **비밀번호**: rlarhkdlf3!@
- **이름**: 김광일
- **직급**: 대표이사
- **역할**: super_admin
- **권한**: 모든 시스템 접근 및 관리 권한
- **생성일**: 2025-01-27
- **상태**: 활성

### 테스트 관리자 (전체 권한 테스트용)
- **이메일**: company@test.com
- **비밀번호**: Test123!@#
- **이름**: 테스트 관리자
- **사용자명**: company-test
- **직급**: 테스트 계정
- **역할**: super_admin
- **권한**: 모든 시스템 접근 및 관리 권한 (슈퍼 관리자 바이패스)
- **생성일**: 2025-08-01
- **상태**: 활성
- **목적**: Company/Brand/Store 대시보드 통합 테스트

## 권한 설명

### Super Admin 권한
- 모든 회사 및 브랜드 대시보드 접근
- 사용자 관리 (생성, 수정, 삭제)
- 권한 관리 및 할당
- 시스템 설정 변경
- 감사 로그 조회
- 모든 데이터 접근 및 수정

## 보안 정책

1. **비밀번호 정책**
   - 최소 8자 이상
   - 대소문자, 숫자, 특수문자 포함
   - 정기적 변경 권장 (90일)

2. **접근 제어**
   - 2FA 인증 권장
   - IP 화이트리스트 적용 가능
   - 세션 타임아웃: 8시간

3. **감사 추적**
   - 모든 관리자 활동 로깅
   - 권한 변경 이력 추적
   - 로그인/로그아웃 기록

## 테스트 시나리오

### 1. 로그인 테스트
- [ ] 정상 로그인
- [ ] 잘못된 비밀번호
- [ ] 존재하지 않는 계정
- [ ] 세션 만료 처리

### 2. 권한 테스트
- [ ] 회사 대시보드 접근
- [ ] 브랜드 대시보드 접근
- [ ] 매장 대시보드 접근 (**새로 추가**)
- [ ] 사용자 관리 기능
- [ ] 권한 할당 기능
- [ ] 데이터 스코프 선택기 (전체/브랜드/매장) (**새로 추가**)
- [ ] 통합 메뉴 시스템 8개 섹션 모두 접근 (**새로 추가**)

### 3. 보안 테스트
- [ ] SQL 인젝션 방지
- [ ] XSS 공격 방지
- [ ] CSRF 토큰 검증
- [ ] 권한 우회 시도 차단

## 주의사항

⚠️ **보안 주의사항**
- 이 계정은 테스트 목적으로만 사용
- 프로덕션 환경에서는 별도의 보안 정책 적용
- 비밀번호는 정기적으로 변경
- 불필요한 권한은 즉시 회수

## 테스트 계정별 접근 범위

### company@test.com (테스트 관리자)
✅ **Company Dashboard** (`/company/*`)
- 모든 브랜드와 매장 데이터 조회/관리
- 데이터 스코프: 전체 → 특정브랜드 → 특정매장

✅ **Brand Dashboard** (`/brand/*`)  
- 모든 브랜드의 매장 데이터 조회/관리
- 브랜드별 매장 선택 가능

✅ **Store Dashboard** (`/store/*`)
- 모든 매장 데이터 조회/관리  
- 매장별 부서 필터링 (주방/홀/배달)

✅ **통합 메뉴 8개 섹션 모두 접근**
1. 현황 관리 (대시보드, 실시간, 성과분석, 알림)
2. 조직 관리 (브랜드, 매장, 직원, 부서)
3. 재고 관리 (현황, 관리, 발주, 거래처, 이동, 부족알림, FIFO)
4. 매출 관리 (현황, 주문, POS, 메뉴, 프로모션, 고객, 적립금)
5. 마케팅 (현황, 캠페인, SNS, 리뷰, 이벤트, 뉴스레터)
6. 분석 & 리포트 (경영, 매출, 고객, 재고, 직원, 재무, 맞춤)
7. 운영 관리 (스케줄, 업무, 품질, 시설, 교육, 컴플라이언스)
8. 시스템 관리 (사용자, 권한, 설정, 연동, 감사로그, 백업, 상태)

## 환경 설정

### 슈퍼 관리자 바이패스 시스템
```bash
# .env.local 설정
VITE_SUPER_ADMIN_EMAIL=alex@culinaryseoul.com,company@test.com
VITE_SUPER_ADMIN_BYPASS=true
VITE_SUPER_ADMIN_NO_TIMEOUT=true
VITE_SESSION_TIMEOUT=86400000
```

### 계정 생성 방법
1. **자동 생성**: `npm run create-test-account` (스크립트 실행)
2. **수동 생성**: Supabase 대시보드에서 Authentication > Users > Add user
3. **생성 가이드**: `docs/create-test-account-manual.md` 참조

## 업데이트 이력

- 2025-01-27: 초기 슈퍼 관리자 계정 생성 (김광일)
- 2025-08-01: 전체 권한 테스트 계정 추가 (company@test.com)
- 2025-08-01: 통합 메뉴 시스템 및 3단계 대시보드 구조 반영
- 2025-08-01: 슈퍼 관리자 바이패스 시스템 구현 (여러 이메일 지원)